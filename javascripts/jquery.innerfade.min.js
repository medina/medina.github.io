(function(e){var t={animationType:"fade",animate:true,first_slide:0,easing:"linear",speed:"normal",type:"sequence",timeout:2e3,startDelay:0,loop:true,containerHeight:"auto",runningClass:"innerFade",children:null,cancelLink:null,pauseLink:null,prevLink:null,nextLink:null,indexContainer:null,currentItemContainer:null,totalItemsContainer:null,callback_index_update:null};e(function(){window.isActive=true;e(window).focus(function(){this.isActive=true});e(window).blur(function(){this.isActive=false})});e.fn.innerFade=function(n){return this.each(function(){$fade_object=new Object;$fade_object.container=this;$fade_object.settings=e.extend({},t,n);$fade_object.elements=$fade_object.settings.children===null?e($fade_object.container).children():e($fade_object.container).children($fade_object.settings.children);$fade_object.count=0;e($fade_object.container).data("object",$fade_object);if($fade_object.elements.length>1){if($fade_object.settings.nextLink||$fade_object.settings.prevLink){e.bindControls($fade_object)}if($fade_object.settings.cancelLink){e.bindCancel($fade_object)}e($fade_object.container).css({position:"relative"}).addClass($fade_object.settings.runningClass);if($fade_object.settings.containerHeight=="auto"){height=e($fade_object.elements).filter(":first").height();e($fade_object.container).css({height:height+"px"})}else{e($fade_object.container).css({height:$fade_object.settings.containerHeight})}if($fade_object.settings.indexContainer){e.innerFadeIndex($fade_object)}e($fade_object.elements).filter(":gt(0)").hide(0);for(var r=0;r<$fade_object.elements.length;r++){e($fade_object.elements[r]).css("z-index",String($fade_object.elements.length-r)).css("position","absolute")}var i="";var s="";if($fade_object.settings.type=="random"){s=Math.floor(Math.random()*$fade_object.elements.length);do{i=Math.floor(Math.random()*$fade_object.elements.length)}while(s==i);e($fade_object.elements[s]).show()}else if($fade_object.settings.type=="random_start"){$fade_object.settings.type="sequence";s=Math.floor(Math.random()*$fade_object.elements.length);i=(s+1)%$fade_object.elements.length}else{i=$fade_object.settings.first_slide;s=$fade_object.settings.first_slide==0?$fade_object.elements.length-1:$fade_object.settings.first_slide-1}if($fade_object.settings.animate){e.fadeTimeout($fade_object,i,s,true)}else{e($fade_object.elements[i]).show();e($fade_object.elements[s]).hide();e.updateIndexes($fade_object,i)}e.updateIndexes($fade_object,i);if($fade_object.settings.type=="random"){e($fade_object.elements[s]).show()}else{e($fade_object.elements[i]).show()}if($fade_object.settings.currentItemContainer){e.currentItem($fade_object,i)}if($fade_object.settings.totalItemsContainer){e.totalItems($fade_object)}if($fade_object.settings.pauseLink){e.bind_pause($fade_object)}}})};e.fn.innerFadeTo=function(t){return this.each(function(n){var r=e(this).data("object");var i=e(r.elements).filter(":visible");var s=e(r.elements).index(i);e.stopSlideshow(r);if(t!=s){e.fadeToItem(r,t,s)}})};e.fadeToItem=function(t,n,r){var i=t.settings.speed;switch(t.settings.animationType){case"slide":e(t.elements[r]).slideUp(i);e(t.elements[n]).slideDown(i);break;case"slideOver":var s=e(t.elements[0]).width(),o={},u={},a={},f={};e(t.container).css({overflow:"hidden"});o={position:"absolute",top:"0px"};u=e.extend({},o);if(n>r){o.left="0px";o.right="auto";u.left="auto";u.right="-"+s+"px";a.left="-"+s+"px";f.right="0px";console.log(o)}else{o.left="auto";o.right="0px";u.left="-"+s+"px";u.right="auto";a.right="-"+s+"px";f.left="0px"}e(t.elements[r]).css(o);e(t.elements[n]).css(u).show();e(t.elements[r]).animate(a,i,t.settings.easing,function(){e(this).hide()});e(t.elements[n]).animate(f,i,t.settings.easing);break;case"fadeEmpty":e(t.elements[r]).fadeOut(i,function(){e(t.elements[n]).fadeIn(i)});break;case"slideEmpty":e(t.elements[r]).slideUp(i,function(){e(t.elements[n]).slideDown(i)});break;default:e(t.elements[r]).fadeOut(i);e(t.elements[n]).fadeIn(i);break}if(t.settings.currentItemContainer){e.currentItem(t,n)}if(t.settings.indexContainer||t.settings.callback_index_update){e.updateIndexes(t,n)}};e.fadeTimeout=function(t,n,r,i){if(window.isActive){if(i!=true){e.fadeToItem(t,n,r)}t.count++;if(t.settings.loop==false&&t.count>=t.elements.length){e.stopSlideshow(t);return}if(t.settings.type=="random"){r=n;while(n==r){n=Math.floor(Math.random()*t.elements.length)}}else{r=r>n?0:n;n=n+1>=t.elements.length?0:n+1}}var s=i&&t.settings.startDelay?t.settings.startDelay:t.settings.timeout;e(t.container).data("current_timeout",setTimeout(function(){e.fadeTimeout(t,n,r,false)},s))};e.fn.innerFadeUnbind=function(){return this.each(function(t){var n=e(this).data("object");e.stopSlideshow(n)})};e.stopSlideshow=function(t){clearTimeout(e(t.container).data("current_timeout"));e(t.container).data("current_timeout",null)};e.bindControls=function(t){e(t.settings.nextLink).on("click",function(n){n.preventDefault();e.stopSlideshow(t);var r=e(t.elements).filter(":visible");var i=e(t.elements).index(r);var s=r.next().length>0?r.next():e(t.elements).filter(":first");var o=e(t.elements).index(s);e.fadeToItem(t,o,i)});e(t.settings.prevLink).on("click",function(n){n.preventDefault();e.stopSlideshow(t);var r=e(t.elements).filter(":visible");var i=e(t.elements).index(r);var s=r.prev().length>0?r.prev():e(t.elements).filter(":last");var o=e(t.elements).index(s);e.fadeToItem(t,o,i)})};e.bind_pause=function(t){e(t.settings.pauseLink).unbind().click(function(n){n.preventDefault();if(e(t.container).data("current_timeout")!=null){e.stopSlideshow(t)}else{var r=e(t.container).children(":first").attr("tagName").toLowerCase();var i="";var s="";if(t.settings.type=="random"){s=Math.floor(Math.random()*t.elements.length);do{i=Math.floor(Math.random()*t.elements.length)}while(s==i)}else if(t.settings.type=="random_start"){s=Math.floor(Math.random()*t.elements.length);i=(s+1)%t.elements.length}else{s=e(r,e(t.container)).index(e(r+":visible",e(t.container)));i=s+1==t.elements.length?0:s+1}e.fadeTimeout(t,i,s,false)}})};e.bindCancel=function(t){e(t.settings.cancelLink).unbind().click(function(n){n.preventDefault();e.stopSlideshow(t)})};e.updateIndexes=function(t,n){e(t.settings.indexContainer).children().removeClass("active");e("> :eq("+n+")",e(t.settings.indexContainer)).addClass("active");if(typeof t.settings.callback_index_update=="function"){t.settings.callback_index_update.call(this,n)}};e.createIndexHandler=function(t,n,r){e(r).click(function(r){r.preventDefault();var i=e(t.elements).filter(":visible");var s=e(t.elements).index(i);e.stopSlideshow(t);if(i.size()<=1&&n!=s){e.fadeToItem(t,n,s)}})};e.createIndexes=function(t){var n=e(t.settings.indexContainer);for(var r=0;r<t.elements.length;r++){var i=e('<li><a href="#">'+(r+1)+"</a></li>");e.createIndexHandler(t,r,i);n.append(i)}};e.linkIndexes=function(t){var n=e(t.settings.indexContainer);var r=e("> :visible",n);if(r.size()==t.elements.length){var i=t.elements.length;for(var s=0;s<i;s++){e("a",n).click(function(e){e.preventDefault()});e.createIndexHandler(t,s,r[s])}}else{alert("There is a different number of items in the menu and slides. There needs to be the same number in both.\nThere are "+r.size()+" in the indexContainer.\nThere are "+t.elements.length+" in the slides container.")}};e.innerFadeIndex=function(t){var n=e(t.settings.indexContainer);if(e(":visible",n).size()<=0){e.createIndexes(t)}else{e.linkIndexes(t)}};e.currentItem=function(t,n){var r=e(t.settings.currentItemContainer);r.text(n+1)};e.totalItems=function(t){var n=e(t.settings.totalItemsContainer);n.text(t.elements.length)}})(jQuery)